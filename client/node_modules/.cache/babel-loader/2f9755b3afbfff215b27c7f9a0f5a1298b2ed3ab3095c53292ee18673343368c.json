{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{toast}from'react-toastify';import{shortenUrl}from'../features/url/urlSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CreateLink(){const[formData,setFormData]=useState({longUrl:'',customAlias:'',expirationDate:''});const dispatch=useDispatch();const navigate=useNavigate();const{isLoading}=useSelector(state=>state.url);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();if(!formData.longUrl){toast.error('URL is required');return;}try{const result=await dispatch(shortenUrl(formData)).unwrap();toast.success('URL shortened successfully!');navigate('/');}catch(err){toast.error(err.message||'Failed to shorten URL');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"Create Short Link\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",htmlFor:\"longUrl\",children:\"Long URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"longUrl\",name:\"longUrl\",value:formData.longUrl,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-lg\",placeholder:\"https://example.com\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",htmlFor:\"customAlias\",children:\"Custom Alias (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"customAlias\",name:\"customAlias\",value:formData.customAlias,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-lg\",placeholder:\"my-custom-link\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",htmlFor:\"expirationDate\",children:\"Expiration Date (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"expirationDate\",name:\"expirationDate\",value:formData.expirationDate,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-lg\",min:new Date().toISOString().split('T')[0]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:`w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 ${isLoading?'opacity-50 cursor-not-allowed':''}`,children:isLoading?'Creating...':'Create Short Link'})]})]});}export default CreateLink;","map":{"version":3,"names":["React","useState","useNavigate","useDispatch","useSelector","toast","shortenUrl","jsx","_jsx","jsxs","_jsxs","CreateLink","formData","setFormData","longUrl","customAlias","expirationDate","dispatch","navigate","isLoading","state","url","handleChange","e","target","name","value","handleSubmit","preventDefault","error","result","unwrap","success","err","message","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","required","min","Date","toISOString","split","disabled"],"sources":["C:/Users/divya/url-shortener/client/src/pages/CreateLink.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport { shortenUrl } from '../features/url/urlSlice';\r\n\r\nfunction CreateLink() {\r\n  const [formData, setFormData] = useState({\r\n    longUrl: '',\r\n    customAlias: '',\r\n    expirationDate: ''\r\n  });\r\n  \r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { isLoading } = useSelector((state) => state.url);\r\n  \r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.longUrl) {\r\n      toast.error('URL is required');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const result = await dispatch(shortenUrl(formData)).unwrap();\r\n      toast.success('URL shortened successfully!');\r\n      navigate('/');\r\n    } catch (err) {\r\n      toast.error(err.message || 'Failed to shorten URL');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Create Short Link</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"longUrl\">\r\n            Long URL\r\n          </label>\r\n          <input\r\n            type=\"url\"\r\n            id=\"longUrl\"\r\n            name=\"longUrl\"\r\n            value={formData.longUrl}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border rounded-lg\"\r\n            placeholder=\"https://example.com\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"customAlias\">\r\n            Custom Alias (optional)\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"customAlias\"\r\n            name=\"customAlias\"\r\n            value={formData.customAlias}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border rounded-lg\"\r\n            placeholder=\"my-custom-link\"\r\n          />\r\n        </div>\r\n        \r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 mb-2\" htmlFor=\"expirationDate\">\r\n            Expiration Date (optional)\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"expirationDate\"\r\n            name=\"expirationDate\"\r\n            value={formData.expirationDate}\r\n            onChange={handleChange}\r\n            className=\"w-full px-3 py-2 border rounded-lg\"\r\n            min={new Date().toISOString().split('T')[0]}\r\n          />\r\n        </div>\r\n        \r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className={`w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n        >\r\n          {isLoading ? 'Creating...' : 'Create Short Link'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateLink;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}